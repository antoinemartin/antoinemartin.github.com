
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Geek Quickies</title>
  <meta name="author" content="Antoine Martin">

  
  <meta name="description" content="In my previous post,
I showed how to set up a Django project on a Windows Server to be served behind
IIS. After setting up the server, the next thing &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://antoinemartin.github.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/GeekQuickies" rel="alternate" title="Geek Quickies" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Mono:400" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29953512-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Geek Quickies</a></h1>
  
    <h2>Stories from the cloudvergence.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/GeekQuickies" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:antoinemartin.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about/">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/04/django-on-windows-run-celery-as-a-windows-service/">Django on Windows: Run Celery as a Service</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-04T12:21:00+02:00" pubdate data-updated="true">Jul 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In my <a href="/blog/2012/06/27/running-django-under-windows-with-iis-using-fcgi/">previous post</a>,
I showed how to set up a Django project on a Windows Server to be served behind
IIS. After setting up the server, the next thing we want with a Django
application is to be able to run background and scheduled tasks, and
<a href="http://celeryproject.org/">Celery</a> is the perfect tool for that.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/07/04/django-on-windows-run-celery-as-a-windows-service/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/27/running-django-under-windows-with-iis-using-fcgi/">Running Django Under Windows With IIS Using FastCGI</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-27T14:12:00+02:00" pubdate data-updated="true">Jun 27<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Update</strong>: The configuration process described in this post can be achieved
with only one management command if you install the
<a href="https://github.com/antoinemartin/django-windows-tools">django-windows-tools application</a>.</p>

<p>Windows is probably not the best production environment for
<a href="https://www.djangoproject.com/">Django</a> but sometimes one doesn&#8217;t have the
choice. In that case, a few options aleardy exist, most notably the one
developed by <a href="http://www.helicontech.com/">helicontech</a> that relies on
Microsoft&#8217;s <a href="http://www.microsoft.com/web/downloads/platform.aspx">Web Platform Installer</a>.
This solution, which is described <a href="http://www.microsoft.com/web/downloads/platform.aspx">here</a>,
relies on the installation of a specific native Handler developed by
Helicontech.</p>

<p>This handler manages the communication between IIS and the Django application
through the <a href="http://www.fastcgi.com">FastCGI protocol</a> with the help of a
little python script that bridges FastCGI to WSGI. This script is derived from
the Allan Saddi <a href="http://trac.saddi.com/flup">flup package</a> that is already used
by Django in the <code>manage.py runfcgi</code> command. The flup package doesn&#8217;t work
under Windows and Helicontech has made the necessary adaptations to make it
work with its handler.</p>

<p>Since its version 7, IIS does however support FastCGI natively, so the use of a
specific handler to support Django is not needed. This post describes how to
configure and run a Django application with the native FastCGI IIS handler. For
that, I have myself adapted the Helicontech FastCGI to WSGI script to make it a
<a href="https://gist.github.com/3004168">Django management command</a>.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/06/27/running-django-under-windows-with-iis-using-fcgi/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/24/using-eclipse-templates-to-ease-android-logging/">Using Eclipse Templates to Ease Android Logging</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-24T07:26:00+01:00" pubdate data-updated="true">Mar 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Adding logs to your Android source code is sometimes the only way to really
understand what happens , especially in asynchronous situations.</p>

<p>If you are lazy like me, you may insert <em>lazy logs</em> like this one:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'>  <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="s">&quot;#LOOK#&quot;</span><span class="o">,</span> <span class="s">&quot;onStart()&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Instead of having less lazy code like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SomeActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">LOG_TAG</span> <span class="o">=</span> <span class="n">SomeActivity</span><span class="o">.</span><span class="na">class</span>
</span><span class='line'>          <span class="o">.</span><span class="na">getSimpleName</span><span class="o">();</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">LOG_LEVEL</span> <span class="o">=</span> <span class="n">Log</span><span class="o">.</span><span class="na">VERBOSE</span><span class="o">;</span>
</span><span class='line'><span class="o">...</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStart</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="o">(</span><span class="n">LOG_LEVEL</span> <span class="o">&lt;=</span> <span class="n">Log</span><span class="o">.</span><span class="na">VERBOSE</span><span class="o">)</span>
</span><span class='line'>          <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="n">LOG_TAG</span><span class="o">,</span> <span class="s">&quot;onStart()&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>But Eclipse can easily help you to avoid this and then the need to clean up your
code after debbuging.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/03/24/using-eclipse-templates-to-ease-android-logging/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/17/get-the-height-of-the-status-bar-in-android/">Get the Height of the Status Bar in Android</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-17T09:09:00+01:00" pubdate data-updated="true">Mar 17<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sometimes in Android, the flexible layout system is not flexible enough and you
need to make some computations inside your code. In these computations, you may
need to subtract the size of the status bar. Stackoverflow gives you
<a href="http://stackoverflow.com/questions/3407256/height-of-status-bar-in-android">some answers</a>,
but they all rely on the fact that te status bar is shown at the time you make
your computation. If you are in full screen mode, by having called for instance:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">getWindow</span><span class="o">().</span><span class="na">setFlags</span><span class="o">(</span><span class="n">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">FLAG_FULLSCREEN</span><span class="o">,</span> <span class="n">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">FLAG_FULLSCREEN</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>It doesn&#8217;t work.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/03/17/get-the-height-of-the-status-bar-in-android/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/13/start-a-virtualenv-django-shell-from-the-linux-desktop/">Start a Virtualenv Django Shell From the Linux Desktop</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-13T07:58:00+01:00" pubdate data-updated="true">Mar 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you are tired to fire a terminal window, <code>cd</code> to your project directory and activate your python <code>virtualenv</code>
to get to your Django project, you will find here some tips to improve things a little bit.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/03/13/start-a-virtualenv-django-shell-from-the-linux-desktop/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/12/checking-google-play-signatures-with-django/">Checking Google Play Signatures With Django</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-12T07:43:00+01:00" pubdate data-updated="true">Mar 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Google play, formerly known as the Android Market, provides in-app billing in several countries.
In the <a href="http://developer.android.com/guide/market/billing/billing_best_practices.html">Security and Design</a> page,
Google states the following:</p>

<blockquote><p>If practical, you should perform signature verification on a remote server and not on a device.
Implementing the verification process on a server makes it difficult for attackers to break the verification process by
reverse engineering your .apk file. If you do offload security processing to a remote server, be sure that the device-server handshake is secure.</p></blockquote>

<p>The signature verification here refers to the signature sent back by the Billing Service to the
<code>GET_PURCHASE_INFORMATION</code>request. The signature is against the JSON payload containing the purchase information. We&#8217;llget back later
on the authentication of the dialog with the server.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/03/12/checking-google-play-signatures-with-django/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/07/04/django-on-windows-run-celery-as-a-windows-service/">Django on Windows: run Celery as a Service</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/27/running-django-under-windows-with-iis-using-fcgi/">Running Django under Windows with IIS using FastCGI</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/24/using-eclipse-templates-to-ease-android-logging/">Using Eclipse templates to ease Android logging</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/17/get-the-height-of-the-status-bar-in-android/">Get the height of the status bar in Android</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/13/start-a-virtualenv-django-shell-from-the-linux-desktop/">Start a virtualenv Django shell from the Linux Desktop</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("antoinemartin", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/antoinemartin" class="twitter-follow-button" data-show-count="false">Follow @antoinemartin</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/antoine@openance.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Antoine Martin -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'geekquickies';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
